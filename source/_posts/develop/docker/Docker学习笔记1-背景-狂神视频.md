---
title: Docker学习笔记1-背景-狂神视频
date: 2022-01-05 09:25:45
categories:
    - docker
---

在未来的项目部署中一定还会用到Docker，k8s等，该篇博客主要记录学习Docker的过程

之后还会整理一篇离线普通方式部署的博客，现在离线普通方式部署自己操作过几次弄的比较明白了，但是问题是对接方很难完全弄明白，所以也是学习Docker的原因之一吧

<!--more-->


# Docker学习
 
- Docker概述
- Docker安装
- Docker命令
  - 镜像命令
  - 容器命令
  - 操作命令
  - ...
- Docker镜像
- 容器数据卷
- DockerFile
- Docker网络原理
- IDEA整合Docker
- Docker Compose（集群编排）
- Docker Swarm（集群管理，简化版k8s）
- CI/CD Jenkins
  

# Docker概述

## Docker为什么出现

一款产品：开发-上线，两套环境！环境部署一次是非常麻烦的，应用环境，应用配置等

开发 ---- 运维。问题：我在我的电脑上可以运行！版本更新，导致服务不可用（例如最近的log4j漏洞更新）！对于运维来说比较麻烦

开发即运维！环境配置是十分的麻烦，每一个机器都要部署环境（集群Redis，ES，Hadoop......）！费时费力。

发布一个项目，（jar + （Redis，MySQL，ES，jdk））一整套的环境，项目能不能都带上环境安装打包！

之前在服务器配置一个应用的环境Redis，MySQL，ES，jdk，Hadoop，配置超麻烦了，不能够跨平台。

Windows，最后发布到Linux，环境上的区别很大

传统：开发给一个jar包，其他交给运维来做

现在：开发打包部署上线，一套流程做完

&nbsp;

java -- apk -- 发布（应用商店） -- 张三使用apk -- 安装即可用！

java -- jar（环境） -- 打包项目带上环境（镜像） -- （Docker仓库：商店） -- 下载我们发布的镜像 -- 直接运行即可！

&nbsp;

Docker给以上问题提出了解决方案，思想就来自于集装箱！

JRE -- 多个应用（端口冲突） -- 原来都是交叉的！

**隔离**：Docker核心思想！打包装箱！每个箱子是互相隔离的

水果 生化武器

Docker通过隔离机制，可以将服务器利用到极致！

本质：所有的技术都是因为出现了一些问题，我们需要去解决，才去学习！（Error analyze）

&nbsp;

## Docker的历史

API小子哈哈哈哈，我爬了，还是做API小子吧

2013年docker开源，2014.4.9 docker1.0开源，相较于虚拟机非常轻量化。docker是一种容器技术。

虚拟机也是属于虚拟化技术，Docker容器技术也是一种虚拟化技术！

vm：centos等等，隔离，需要开启多个虚拟机！几G

docker：隔离，镜像（最核心的环境4m + jdk + mysql）十分的小巧，运行镜像就可以了！小巧！

> 聊聊docker

Docker是基于Go语言开发的！是一个开源项目

www.docker.com

docs.docker.com，Docker的文档是非常详细的

仓库地址：hub.docker.com git push, pull等等

虚拟化，容器沙箱机制


## Docker能干嘛

> 之前的虚拟机技术

虚拟机技术缺点：

1、资源占用非常多
2、冗余步骤多
3、启动很慢


> 容器化技术 container

**容器化技术不是模拟的一个完整的操作系统**

![](/images/2022-01-05-15-40-13.png)

 
> 比较Docker和虚拟机技术的不同

- 传统虚拟机，虚拟出一套硬件，运行一个完整的操作系统，然后在这个系统上安装和运行软件；
- 容器内的应用直接运行在宿主机的内核中，容器是没有自己的内核的，也没有虚拟我们的硬件，所以就轻便了
- 每个容器间是相互隔离的，每个容器内都有一个属于自己的文件系统，互不影响


> DevOps(开发、运维)

**应用更快速的交付和部署**

传统：一堆帮助文档，安装程序

Docker：打包镜像发布测试，一键运行

**更便捷的升级和扩缩容**

使用了docker之后，我们部署应用就像搭积木一样

Redis5，tomcat 分别升级

(redis, tomcat) 打包升级

水平扩展负载均衡

**更简单的系统运维**

在容器化之后，我们的开发，测试环境都是一致的，不会出现在我的电脑上能用，在别人的电脑上用不了这种情况

**更高效的计算资源利用**

一个服务器运行几十个redis等等，集群

Docker是内核级别的虚拟化，一个物理机上运行很多个容器实例


# Docker的基本组成

![](/images/2022-01-05-15-55-22.png)

分成了三个部分，客户端、服务器、仓库

docker run运行一个哦让你去

docker pull拉取

docker build .....

镜像运行起来就变成容器了！ tomcat镜像，tomcat1容器，tomcat2容器，等等



**镜像（image）：**

docker镜像就好比是一个模板，可以通过这个模板来创建容器服务，tomcat镜像 ===> run ===> tomcat01容器（提供服务器），通过这个镜像可以创建多个容器（最终服务运行或者项目运行就是在容器中的）


**容器（container）：**

Docker利用容器技术，独立运行一个或者一个组应用，通过镜像来创建的

启动，停止，删除，基本命令！

目前就可以把这个容器理解为就是一个简易的linux系统，

**仓库（repository）：**

仓库就是存放镜像的地方！

- 公有仓库
- 私有仓库

Docker Hub（默认是国外的）

阿里云，都有容器服务（配置镜像加速）